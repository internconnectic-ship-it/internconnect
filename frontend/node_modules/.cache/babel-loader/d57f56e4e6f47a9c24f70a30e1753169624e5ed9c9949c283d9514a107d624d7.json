{"ast":null,"code":"var _jsxFileName = \"D:\\\\internconnect\\\\internconnect_modified_final (19)\\\\internconnect_modified_final\\\\internconnect_full_project\\\\internconnect\\\\frontend\\\\src\\\\pages\\\\dashboard\\\\DashboardSupervisorEvaluation.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../../components/Header';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chip = ({\n  status\n}) => {\n  const map = {\n    completed: {\n      text: 'ประเมินเสร็จสิ้น',\n      cls: 'bg-green-100 text-green-800'\n    },\n    pending: {\n      text: 'ยังไม่ประเมิน',\n      cls: 'bg-gray-100 text-gray-800'\n    }\n  };\n  const s = map[status] || map.pending;\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `px-3 py-1 rounded-full text-sm font-medium ${s.cls}`,\n    children: s.text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 10\n  }, this);\n};\n_c = Chip;\nconst DashboardSupervisorEvaluation = () => {\n  _s();\n  const [students, setStudents] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchStudents = async () => {\n      try {\n        const supervisor_id = localStorage.getItem('supervisorId');\n        const res = await axios.get(`http://localhost:5000/api/evaluation/students/${supervisor_id}`);\n        setStudents(Array.isArray(res.data) ? res.data : []);\n      } catch (err) {\n        console.error('❌ ดึงรายชื่อนิสิตล้มเหลว:', err);\n        setStudents([]);\n      }\n    };\n    fetchStudents();\n  }, []);\n  const handleEvaluate = student_id => {\n    navigate(`/evaluation/${student_id}`); // หน้าเดิม ใช้ได้ทั้ง “สร้างใหม่” และ “แก้ไข”\n  };\n  const img = p => p ? `http://localhost:5000/uploads/${p}` : 'https://via.placeholder.com/96x96.png?text=User';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-indigo-500 to-purple-700 text-white font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 space-y-4\",\n      children: students.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-white/90\",\n        children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E19\\u0E34\\u0E2A\\u0E34\\u0E15\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this) : students.map(student => {\n        var _student$age, _student$phone_number, _student$university;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white text-black p-4 rounded-lg shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: img(student.profile_image),\n              alt: student.student_name,\n              className: \"w-20 h-20 rounded-full object-cover ring-2 ring-indigo-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-semibold\",\n                  children: student.student_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  status: student.evaluation_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E19\\u0E34\\u0E2A\\u0E34\\u0E15 : \", student.student_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"\\u0E2D\\u0E32\\u0E22\\u0E38 : \", (_student$age = student.age) !== null && _student$age !== void 0 ? _student$age : '-', \" \\u0E1B\\u0E35 \\xB7 \\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C : \", (_student$phone_number = student.phone_number) !== null && _student$phone_number !== void 0 ? _student$phone_number : '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"\\u0E21\\u0E2B\\u0E32\\u0E27\\u0E34\\u0E17\\u0E22\\u0E32\\u0E25\\u0E31\\u0E22 : \", (_student$university = student.university) !== null && _student$university !== void 0 ? _student$university : '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `px-4 py-2 rounded font-semibold shadow\n                  ${student.evaluation_status === 'completed' ? 'bg-indigo-600 text-white hover:bg-indigo-700' : 'bg-emerald-600 text-white hover:bg-emerald-700'}`,\n              onClick: () => handleEvaluate(student.student_id),\n              children: student.evaluation_status === 'completed' ? 'แก้ไขคะแนน' : 'ประเมิน'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)\n        }, student.student_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardSupervisorEvaluation, \"D9fuAzkz5eb2OTIGkFb61Gi+6ho=\", false, function () {\n  return [useNavigate];\n});\n_c2 = DashboardSupervisorEvaluation;\nexport default DashboardSupervisorEvaluation;\nvar _c, _c2;\n$RefreshReg$(_c, \"Chip\");\n$RefreshReg$(_c2, \"DashboardSupervisorEvaluation\");","map":{"version":3,"names":["React","useEffect","useState","axios","Header","useNavigate","jsxDEV","_jsxDEV","Chip","status","map","completed","text","cls","pending","s","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","DashboardSupervisorEvaluation","_s","students","setStudents","navigate","fetchStudents","supervisor_id","localStorage","getItem","res","get","Array","isArray","data","err","console","error","handleEvaluate","student_id","img","p","length","student","_student$age","_student$phone_number","_student$university","src","profile_image","alt","student_name","evaluation_status","age","phone_number","university","onClick","_c2","$RefreshReg$"],"sources":["D:/internconnect/internconnect_modified_final (19)/internconnect_modified_final/internconnect_full_project/internconnect/frontend/src/pages/dashboard/DashboardSupervisorEvaluation.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../../components/Header';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Chip = ({ status }) => {\r\n  const map = {\r\n    completed: { text: 'ประเมินเสร็จสิ้น', cls: 'bg-green-100 text-green-800' },\r\n    pending:   { text: 'ยังไม่ประเมิน',    cls: 'bg-gray-100 text-gray-800' },\r\n  };\r\n  const s = map[status] || map.pending;\r\n  return <span className={`px-3 py-1 rounded-full text-sm font-medium ${s.cls}`}>{s.text}</span>;\r\n};\r\n\r\nconst DashboardSupervisorEvaluation = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchStudents = async () => {\r\n      try {\r\n        const supervisor_id = localStorage.getItem('supervisorId');\r\n        const res = await axios.get(`http://localhost:5000/api/evaluation/students/${supervisor_id}`);\r\n        setStudents(Array.isArray(res.data) ? res.data : []);\r\n      } catch (err) {\r\n        console.error('❌ ดึงรายชื่อนิสิตล้มเหลว:', err);\r\n        setStudents([]);\r\n      }\r\n    };\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const handleEvaluate = (student_id) => {\r\n    navigate(`/evaluation/${student_id}`); // หน้าเดิม ใช้ได้ทั้ง “สร้างใหม่” และ “แก้ไข”\r\n  };\r\n\r\n  const img = (p) =>\r\n    p ? `http://localhost:5000/uploads/${p}` : 'https://via.placeholder.com/96x96.png?text=User';\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-500 to-purple-700 text-white font-sans\">\r\n      <Header />\r\n      <div className=\"p-6 space-y-4\">\r\n        {students.length === 0 ? (\r\n          <p className=\"text-center text-white/90\">ยังไม่มีนิสิตที่ต้องประเมิน</p>\r\n        ) : (\r\n          students.map((student) => (\r\n            <div key={student.student_id} className=\"bg-white text-black p-4 rounded-lg shadow\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <img\r\n                  src={img(student.profile_image)}\r\n                  alt={student.student_name}\r\n                  className=\"w-20 h-20 rounded-full object-cover ring-2 ring-indigo-200\"\r\n                />\r\n\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <p className=\"text-lg font-semibold\">{student.student_name}</p>\r\n                    <Chip status={student.evaluation_status} />\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-600\">รหัสนิสิต : {student.student_id}</p>\r\n                  <p className=\"text-sm text-gray-600\">อายุ : {student.age ?? '-'} ปี · เบอร์ : {student.phone_number ?? '-'}</p>\r\n                  \r\n                  <p className=\"text-sm text-gray-600\">มหาวิทยาลัย : {student.university ?? '-'}</p>\r\n                </div>\r\n\r\n                {/* ปุ่มให้กดได้เสมอ: หากเคยประเมินแล้วจะแสดงเป็น “แก้ไขคะแนน” */}\r\n                <button\r\n                  className={`px-4 py-2 rounded font-semibold shadow\r\n                  ${student.evaluation_status === 'completed'\r\n                    ? 'bg-indigo-600 text-white hover:bg-indigo-700'\r\n                    : 'bg-emerald-600 text-white hover:bg-emerald-700'}`}\r\n                  onClick={() => handleEvaluate(student.student_id)}\r\n                >\r\n                  {student.evaluation_status === 'completed' ? 'แก้ไขคะแนน' : 'ประเมิน'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardSupervisorEvaluation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}