{"ast":null,"code":"var _jsxFileName = \"D:\\\\internconnect\\\\internconnect\\\\frontend\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport StudentMenu from './headers/StudentMenu';\nimport CompanyMenu from './headers/CompanyMenu';\nimport InstructorMenu from './headers/InstructorMenu';\nimport AdminMenu from './headers/AdminMenu';\nimport SupervisorMenu from './headers/SupervisorMenu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const role = localStorage.getItem(\"role\");\n  const userId = localStorage.getItem(`${role}Id`);\n  const [profileImage, setProfileImage] = useState(\"default-profile.png\");\n  const [userName, setUserName] = useState(\"ผู้ใช้\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (role && userId) {\n      axios.get(`http://localhost:5000/api/${role}/${userId}`).then(res => {\n        const data = res.data;\n\n        // ✅ ดึงรูปภาพ\n        const image = role === \"company\" ? data.company_logo : data.profile_image;\n\n        // ✅ ดึงชื่อ\n        const name = role === \"company\" ? data.company_name : role === \"student\" ? data.student_name : role === \"instructor\" ? data.Instructor_name : role === \"supervisor\" ? data.supervisor_name : role === \"admin\" ? data.admin_name : \"ผู้ใช้\";\n        setProfileImage(image || \"default-profile.png\");\n        setUserName(name || \"ผู้ใช้\");\n      }).catch(err => {\n        console.error(\"โหลดข้อมูลผู้ใช้ล้มเหลว:\", err);\n        setProfileImage(\"default-profile.png\");\n      });\n    }\n  }, [role, userId]);\n  const handleLogout = () => {\n    localStorage.clear();\n    navigate(\"/login\");\n  };\n  const renderMenuByRole = () => {\n    switch (role) {\n      case \"student\":\n        return /*#__PURE__*/_jsxDEV(StudentMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this);\n      case \"company\":\n        return /*#__PURE__*/_jsxDEV(CompanyMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 16\n        }, this);\n      case \"instructor\":\n        return /*#__PURE__*/_jsxDEV(InstructorMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 16\n        }, this);\n      case \"supervisor\":\n        return /*#__PURE__*/_jsxDEV(SupervisorMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }, this);\n      case \"admin\":\n        return /*#__PURE__*/_jsxDEV(AdminMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"bg-white text-indigo-700 shadow-md px-6 py-4 flex justify-between items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-6 font-medium text-lg\",\n      children: renderMenuByRole()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000/uploads/${profileImage}`,\n          alt: \"profile\",\n          className: \"profile-image\",\n          width: \"64\",\n          height: \"64\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"px-3 py-1 border border-gray-400 rounded hover:bg-red-100 text-sm\",\n        children: \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"ib9mc0L5BUcFqYNQxz1aqKpCZAY=\", false, function () {\n  return [useNavigate];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useNavigate","useEffect","useState","axios","StudentMenu","CompanyMenu","InstructorMenu","AdminMenu","SupervisorMenu","jsxDEV","_jsxDEV","Header","_s","role","localStorage","getItem","userId","profileImage","setProfileImage","userName","setUserName","navigate","get","then","res","data","image","company_logo","profile_image","name","company_name","student_name","Instructor_name","supervisor_name","admin_name","catch","err","console","error","handleLogout","clear","renderMenuByRole","fileName","_jsxFileName","lineNumber","columnNumber","className","children","src","alt","width","height","onClick","_c","$RefreshReg$"],"sources":["D:/internconnect/internconnect/frontend/src/components/Header.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport StudentMenu from './headers/StudentMenu';\r\nimport CompanyMenu from './headers/CompanyMenu';\r\nimport InstructorMenu from './headers/InstructorMenu';\r\nimport AdminMenu from './headers/AdminMenu';\r\nimport SupervisorMenu from './headers/SupervisorMenu';\r\n\r\nconst Header = () => {\r\n  const role = localStorage.getItem(\"role\");\r\n  const userId = localStorage.getItem(`${role}Id`);\r\n  const [profileImage, setProfileImage] = useState(\"default-profile.png\");\r\n  const [userName, setUserName] = useState(\"ผู้ใช้\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (role && userId) {\r\n      axios.get(`http://localhost:5000/api/${role}/${userId}`)\r\n        .then(res => {\r\n          const data = res.data;\r\n\r\n          // ✅ ดึงรูปภาพ\r\n          const image =\r\n            role === \"company\" ? data.company_logo :\r\n            data.profile_image;\r\n\r\n          // ✅ ดึงชื่อ\r\n          const name =\r\n            role === \"company\" ? data.company_name :\r\n            role === \"student\" ? data.student_name :\r\n            role === \"instructor\" ? data.Instructor_name :\r\n            role === \"supervisor\" ? data.supervisor_name :\r\n            role === \"admin\" ? data.admin_name :\r\n            \"ผู้ใช้\";\r\n\r\n          setProfileImage(image || \"default-profile.png\");\r\n          setUserName(name || \"ผู้ใช้\");\r\n        })\r\n        .catch(err => {\r\n          console.error(\"โหลดข้อมูลผู้ใช้ล้มเหลว:\", err);\r\n          setProfileImage(\"default-profile.png\");\r\n        });\r\n    }\r\n  }, [role, userId]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  const renderMenuByRole = () => {\r\n    switch (role) {\r\n      case \"student\":\r\n        return <StudentMenu />;\r\n      case \"company\":\r\n        return <CompanyMenu />;\r\n      case \"instructor\":\r\n        return <InstructorMenu />;\r\n      case \"supervisor\":\r\n        return <SupervisorMenu />;\r\n      case \"admin\":\r\n        return <AdminMenu />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"bg-white text-indigo-700 shadow-md px-6 py-4 flex justify-between items-center\">\r\n      {/* เมนูฝั่งซ้าย */}\r\n      <div className=\"flex gap-6 font-medium text-lg\">\r\n        {renderMenuByRole()}\r\n      </div>\r\n\r\n      {/* ข้อมูลผู้ใช้ฝั่งขวา */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <span className=\"flex items-center gap-2\">\r\n          <img\r\n            src={`http://localhost:5000/uploads/${profileImage}`}\r\n            alt=\"profile\"\r\n            className=\"profile-image\"\r\n            width=\"64\"\r\n            height=\"64\"\r\n          />\r\n          <span className=\"text-sm\">{userName}</span>\r\n        </span>\r\n        <button\r\n          onClick={handleLogout}\r\n          className=\"px-3 py-1 border border-gray-400 rounded hover:bg-red-100 text-sm\"\r\n        >\r\n          ออกจากระบบ\r\n        </button>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}