{"ast":null,"code":"var _jsxFileName = \"D:\\\\internconnect\\\\internconnect_modified_final (19)\\\\internconnect_modified_final\\\\internconnect_full_project\\\\internconnect\\\\frontend\\\\src\\\\components\\\\EvaluationCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EvaluationCard = ({\n  student = {}\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    student_id,\n    student_name = '-',\n    profile_image,\n    supervisor_name = '-',\n    company_name = '-',\n    supervisor_score: supRaw,\n    // 0–100\n    company_score: compRaw,\n    // ดิบ 0–120\n    company_score_pct,\n    // 0–100 (อาจมีจาก API)\n    final_score,\n    // 0–100 (อาจมีจาก API)\n    final_status // 'pass' | 'fail' | 'pending'\n  } = student;\n  const sup = Number.isFinite(+supRaw) ? Math.max(0, Math.min(100, +supRaw)) : null;\n  const comp120 = Number.isFinite(+compRaw) ? Math.max(0, Math.min(120, +compRaw)) : null;\n  const compPct = Number.isFinite(+company_score_pct) ? +company_score_pct : comp120 != null ? comp120 / 120 * 100 : null;\n  const calcFinal = () => {\n    if (final_score != null && !Number.isNaN(+final_score)) return +final_score;\n    if (sup != null && compPct != null) return compPct * 0.6 + sup * 0.4;\n    return null;\n  };\n  const fScore = calcFinal();\n  const status = final_status !== null && final_status !== void 0 ? final_status : sup != null && compPct != null ? fScore >= 70 ? 'pass' : 'fail' : 'pending';\n  const badge = {\n    pass: {\n      text: 'ผ่าน',\n      cls: 'bg-green-100 text-green-800'\n    },\n    fail: {\n      text: 'ไม่ผ่าน',\n      cls: 'bg-red-100 text-red-800'\n    },\n    pending: {\n      text: 'รอคะแนนครบ',\n      cls: 'bg-gray-100 text-gray-800'\n    }\n  }[status];\n  const handleDetailClick = () => {\n    navigate(`/student-detail/${student_id}`);\n  };\n  const imgSrc = `http://localhost:5000/uploads/${profile_image || 'default.jpg'}`;\n  const fmt = (v, d = 1) => v == null || Number.isNaN(+v) ? '-' : Number(v).toFixed(d);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-lg border border-blue-200 p-5 mb-5 flex flex-col md:flex-row md:items-center gap-6 text-black\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-5 items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgSrc,\n        alt: \"profile\",\n        className: \"w-24 h-24 rounded-full object-cover border-4 border-indigo-300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-xl\",\n            children: student_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-3 py-1 rounded-full text-sm font-medium ${badge.cls}`,\n            children: badge.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDetailClick,\n          className: \"text-blue-600 text-sm underline hover:text-blue-800\",\n          children: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u0E2D\\u0E32\\u0E08\\u0E32\\u0E23\\u0E22\\u0E4C\\u0E19\\u0E34\\u0E40\\u0E17\\u0E28 : \", supervisor_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E17\\u0E35\\u0E48\\u0E44\\u0E14\\u0E49 : \", fmt(sup, 0), \" / 100 \\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: [\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E1B\\u0E23\\u0E30\\u0E01\\u0E2D\\u0E1A\\u0E01\\u0E32\\u0E23 : \", company_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E14\\u0E34\\u0E1A : \", fmt(comp120, 0), \" / 120 \\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u0E04\\u0E34\\u0E14\\u0E40\\u0E1B\\u0E47\\u0E19 100% : \", fmt(compPct, 1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 font-medium\",\n            children: [\"\\u0E2A\\u0E23\\u0E38\\u0E1B\\u0E23\\u0E27\\u0E21 (60/40) : \", fScore == null ? '-' : `${fmt(fScore, 1)}%`, \" \\xB7 \\u0E40\\u0E01\\u0E13\\u0E11\\u0E4C\\u0E1C\\u0E48\\u0E32\\u0E19 \\u2265 70%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(EvaluationCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = EvaluationCard;\nexport default EvaluationCard;\nvar _c;\n$RefreshReg$(_c, \"EvaluationCard\");","map":{"version":3,"names":["React","useNavigate","jsxDEV","_jsxDEV","EvaluationCard","student","_s","navigate","student_id","student_name","profile_image","supervisor_name","company_name","supervisor_score","supRaw","company_score","compRaw","company_score_pct","final_score","final_status","sup","Number","isFinite","Math","max","min","comp120","compPct","calcFinal","isNaN","fScore","status","badge","pass","text","cls","fail","pending","handleDetailClick","imgSrc","fmt","v","d","toFixed","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["D:/internconnect/internconnect_modified_final (19)/internconnect_modified_final/internconnect_full_project/internconnect/frontend/src/components/EvaluationCard.js"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst EvaluationCard = ({ student = {} }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    student_id,\r\n    student_name = '-',\r\n    profile_image,\r\n    supervisor_name = '-',\r\n    company_name = '-',\r\n    supervisor_score: supRaw,   // 0–100\r\n    company_score: compRaw,     // ดิบ 0–120\r\n    company_score_pct,          // 0–100 (อาจมีจาก API)\r\n    final_score,                // 0–100 (อาจมีจาก API)\r\n    final_status,               // 'pass' | 'fail' | 'pending'\r\n  } = student;\r\n\r\n  const sup = Number.isFinite(+supRaw) ? Math.max(0, Math.min(100, +supRaw)) : null;\r\n  const comp120 = Number.isFinite(+compRaw) ? Math.max(0, Math.min(120, +compRaw)) : null;\r\n  const compPct = Number.isFinite(+company_score_pct)\r\n    ? +company_score_pct\r\n    : (comp120 != null ? (comp120 / 120) * 100 : null);\r\n\r\n  const calcFinal = () => {\r\n    if (final_score != null && !Number.isNaN(+final_score)) return +final_score;\r\n    if (sup != null && compPct != null) return compPct * 0.6 + sup * 0.4;\r\n    return null;\r\n  };\r\n  const fScore = calcFinal();\r\n\r\n  const status =\r\n    final_status ??\r\n    (sup != null && compPct != null ? (fScore >= 70 ? 'pass' : 'fail') : 'pending');\r\n\r\n  const badge = {\r\n    pass:   { text: 'ผ่าน',        cls: 'bg-green-100 text-green-800' },\r\n    fail:   { text: 'ไม่ผ่าน',     cls: 'bg-red-100 text-red-800' },\r\n    pending:{ text: 'รอคะแนนครบ', cls: 'bg-gray-100 text-gray-800' },\r\n  }[status];\r\n\r\n  const handleDetailClick = () => {\r\n    navigate(`/student-detail/${student_id}`);\r\n  };\r\n\r\n  const imgSrc = `http://localhost:5000/uploads/${profile_image || 'default.jpg'}`;\r\n  const fmt = (v, d = 1) => (v == null || Number.isNaN(+v) ? '-' : Number(v).toFixed(d));\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-lg border border-blue-200 p-5 mb-5 flex flex-col md:flex-row md:items-center gap-6 text-black\">\r\n      <div className=\"flex gap-5 items-start\">\r\n        <img\r\n          src={imgSrc}\r\n          alt=\"profile\"\r\n          className=\"w-24 h-24 rounded-full object-cover border-4 border-indigo-300\"\r\n        />\r\n        <div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <h3 className=\"font-semibold text-xl\">{student_name}</h3>\r\n            <span className={`px-3 py-1 rounded-full text-sm font-medium ${badge.cls}`}>{badge.text}</span>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleDetailClick}\r\n            className=\"text-blue-600 text-sm underline hover:text-blue-800\"\r\n          >\r\n            ดูข้อมูลเพิ่มเติม\r\n          </button>\r\n\r\n          <div className=\"mt-3 space-y-1\">\r\n            <p>อาจารย์นิเทศ : {supervisor_name}</p>\r\n            <p>คะแนนที่ได้ : {fmt(sup, 0)} / 100 คะแนน</p>\r\n            <p className=\"mt-2\">สถานประกอบการ : {company_name}</p>\r\n            <p>คะแนนดิบ : {fmt(comp120, 0)} / 120 คะแนน</p>\r\n            <p>คิดเป็น 100% : {fmt(compPct, 1)}%</p>\r\n            <p className=\"mt-2 font-medium\">\r\n              สรุปรวม (60/40) : {fScore == null ? '-' : `${fmt(fScore, 1)}%`} · เกณฑ์ผ่าน ≥ 70%\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ไม่มีดรอปดาว/ไม่มีการ PUT อีกต่อไป */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EvaluationCard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,cAAc,GAAGA,CAAC;EAAEC,OAAO,GAAG,CAAC;AAAE,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAM;IACJO,UAAU;IACVC,YAAY,GAAG,GAAG;IAClBC,aAAa;IACbC,eAAe,GAAG,GAAG;IACrBC,YAAY,GAAG,GAAG;IAClBC,gBAAgB,EAAEC,MAAM;IAAI;IAC5BC,aAAa,EAAEC,OAAO;IAAM;IAC5BC,iBAAiB;IAAW;IAC5BC,WAAW;IAAiB;IAC5BC,YAAY,CAAgB;EAC9B,CAAC,GAAGd,OAAO;EAEX,MAAMe,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAAC,CAACR,MAAM,CAAC,GAAGS,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,GAAG,EAAE,CAACX,MAAM,CAAC,CAAC,GAAG,IAAI;EACjF,MAAMY,OAAO,GAAGL,MAAM,CAACC,QAAQ,CAAC,CAACN,OAAO,CAAC,GAAGO,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,GAAG,EAAE,CAACT,OAAO,CAAC,CAAC,GAAG,IAAI;EACvF,MAAMW,OAAO,GAAGN,MAAM,CAACC,QAAQ,CAAC,CAACL,iBAAiB,CAAC,GAC/C,CAACA,iBAAiB,GACjBS,OAAO,IAAI,IAAI,GAAIA,OAAO,GAAG,GAAG,GAAI,GAAG,GAAG,IAAK;EAEpD,MAAME,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAIV,WAAW,IAAI,IAAI,IAAI,CAACG,MAAM,CAACQ,KAAK,CAAC,CAACX,WAAW,CAAC,EAAE,OAAO,CAACA,WAAW;IAC3E,IAAIE,GAAG,IAAI,IAAI,IAAIO,OAAO,IAAI,IAAI,EAAE,OAAOA,OAAO,GAAG,GAAG,GAAGP,GAAG,GAAG,GAAG;IACpE,OAAO,IAAI;EACb,CAAC;EACD,MAAMU,MAAM,GAAGF,SAAS,CAAC,CAAC;EAE1B,MAAMG,MAAM,GACVZ,YAAY,aAAZA,YAAY,cAAZA,YAAY,GACXC,GAAG,IAAI,IAAI,IAAIO,OAAO,IAAI,IAAI,GAAIG,MAAM,IAAI,EAAE,GAAG,MAAM,GAAG,MAAM,GAAI,SAAU;EAEjF,MAAME,KAAK,GAAG;IACZC,IAAI,EAAI;MAAEC,IAAI,EAAE,MAAM;MAASC,GAAG,EAAE;IAA8B,CAAC;IACnEC,IAAI,EAAI;MAAEF,IAAI,EAAE,SAAS;MAAMC,GAAG,EAAE;IAA0B,CAAC;IAC/DE,OAAO,EAAC;MAAEH,IAAI,EAAE,YAAY;MAAEC,GAAG,EAAE;IAA4B;EACjE,CAAC,CAACJ,MAAM,CAAC;EAET,MAAMO,iBAAiB,GAAGA,CAAA,KAAM;IAC9B/B,QAAQ,CAAC,mBAAmBC,UAAU,EAAE,CAAC;EAC3C,CAAC;EAED,MAAM+B,MAAM,GAAG,iCAAiC7B,aAAa,IAAI,aAAa,EAAE;EAChF,MAAM8B,GAAG,GAAGA,CAACC,CAAC,EAAEC,CAAC,GAAG,CAAC,KAAMD,CAAC,IAAI,IAAI,IAAIpB,MAAM,CAACQ,KAAK,CAAC,CAACY,CAAC,CAAC,GAAG,GAAG,GAAGpB,MAAM,CAACoB,CAAC,CAAC,CAACE,OAAO,CAACD,CAAC,CAAE;EAEtF,oBACEvC,OAAA;IAAKyC,SAAS,EAAC,0HAA0H;IAAAC,QAAA,eACvI1C,OAAA;MAAKyC,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBACrC1C,OAAA;QACE2C,GAAG,EAAEP,MAAO;QACZQ,GAAG,EAAC,SAAS;QACbH,SAAS,EAAC;MAAgE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC,eACFhD,OAAA;QAAA0C,QAAA,gBACE1C,OAAA;UAAKyC,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtC1C,OAAA;YAAIyC,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAEpC;UAAY;YAAAuC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACzDhD,OAAA;YAAMyC,SAAS,EAAE,8CAA8CZ,KAAK,CAACG,GAAG,EAAG;YAAAU,QAAA,EAAEb,KAAK,CAACE;UAAI;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5F,CAAC,eAENhD,OAAA;UACEiD,OAAO,EAAEd,iBAAkB;UAC3BM,SAAS,EAAC,qDAAqD;UAAAC,QAAA,EAChE;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAEThD,OAAA;UAAKyC,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7B1C,OAAA;YAAA0C,QAAA,GAAG,6EAAe,EAAClC,eAAe;UAAA;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvChD,OAAA;YAAA0C,QAAA,GAAG,uEAAc,EAACL,GAAG,CAACpB,GAAG,EAAE,CAAC,CAAC,EAAC,uCAAY;UAAA;YAAA4B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC9ChD,OAAA;YAAGyC,SAAS,EAAC,MAAM;YAAAC,QAAA,GAAC,mFAAgB,EAACjC,YAAY;UAAA;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtDhD,OAAA;YAAA0C,QAAA,GAAG,qDAAW,EAACL,GAAG,CAACd,OAAO,EAAE,CAAC,CAAC,EAAC,uCAAY;UAAA;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC/ChD,OAAA;YAAA0C,QAAA,GAAG,oDAAe,EAACL,GAAG,CAACb,OAAO,EAAE,CAAC,CAAC,EAAC,GAAC;UAAA;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACxChD,OAAA;YAAGyC,SAAS,EAAC,kBAAkB;YAAAC,QAAA,GAAC,uDACZ,EAACf,MAAM,IAAI,IAAI,GAAG,GAAG,GAAG,GAAGU,GAAG,CAACV,MAAM,EAAE,CAAC,CAAC,GAAG,EAAC,yEACjE;UAAA;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGH,CAAC;AAEV,CAAC;AAAC7C,EAAA,CAnFIF,cAAc;EAAA,QACDH,WAAW;AAAA;AAAAoD,EAAA,GADxBjD,cAAc;AAqFpB,eAAeA,cAAc;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}